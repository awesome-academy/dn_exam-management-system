<div class="content">
  <div class="row function-name">
    <div class="col-md-10 offset-md-1 col-12 pt-3 pb-3 d-inline">
      <div class="float-left">
        <h2><%= t ".title", name: @subject.name %></h2>
        <h4 class="text-muted"><%= t ".content", content: @subject.content %></h4>
      </div>
      <% if can? :create, Question %>
        <div class="float-right">
          <%= link_to t(".btn_create_question"), new_admin_subject_question_path(@subject), class: "btn btn-primary" %>
        </div>
      <% end %>
    </div>
  </div>
  <% if can? %i(create update), Question %>
    <div class="row mt-2">
      <div class="col-md-10 offset-md-1">
        <ul class="list-group mb-2">
          <%= search_form_for @q, url: subject_path(@subject.id), class: "d-flex justify-content-center" do |f|%>
            <div class="input-group-prepend w-100 mb-2 ">
              <%= f.search_field :content_cont, autofocus: true, class: "form-control",
                              placeholder: t(".search_content")
               %>
              <div class="col-xs-2 ml-2">
                <%= number_field_tag :answer_count_lteq, params[:answer_count_lteq],
                                  min: 0, placeholder: t(".search_max_answer"), class: "form-control"
                %>
              </div>
              <div class="col-xs-2 ml-2">
                <%= f.date_field :created_at_eq, as: :date,
                             value: f.object.try(:strftime,"%d/%m/%Y"), class: "form-control"
                %>
              </div>
              <%= f.submit class: "btn btn-primary ml-2" %>
            </div>
          <% end %>
          <% @questions.each do |i| %>
            <li class="list-group-item">
              <div class="float-left">
                <%= link_to i.content, edit_admin_subject_question_path(i.subject_id, i.id) %>
              </div>
              <div class="float-right">
                <%= link_to admin_subject_question_path(@subject.id, i.id), method: :delete,
                                   data: {confirm: t(".confirm_delete")} do %>
                  <i class="fa-solid fa-trash text-danger"></i>
                <% end %>
              </div>
            </li>
          <% end %>
        </ul>
        <%== pagy_bootstrap_nav @pagy %>
      </div>
    </div>
  <% end %>
</div>
